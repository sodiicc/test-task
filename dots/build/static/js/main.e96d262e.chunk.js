(window.webpackJsonpdots=window.webpackJsonpdots||[]).push([[0],{36:function(e,t,n){e.exports=n(50)},41:function(e,t,n){},42:function(e,t,n){},50:function(e,t,n){"use strict";n.r(t);var r=n(1),a=n.n(r),i=n(14),s=n.n(i),c=(n(41),n(42),n(16)),o=n(30),l=n(13),u=n(19),d=n(23),f=n(24),p=n(32),m=n(25),g=n(33),y=function(e){function t(e){var n;return Object(d.a)(this,t),(n=Object(p.a)(this,Object(m.a)(t).call(this,e))).field=a.a.createRef(),n}return Object(g.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){return this.field.current&&this.props.name===this.props.random&&this.field.current.classList.add(this.props.color),a.a.createElement("div",{ref:this.field,className:"fieldItem",id:this.props.name})}}]),t}(a.a.Component),b=function(e){return a.a.createElement("div",{className:"winner"},a.a.createElement("div",null,e.winnerName)," ",a.a.createElement("div",null,e.winnerDate))},h=function(e){console.log("props",e.name);return a.a.createElement("input",{type:"text",placeholder:"Enter your name",value:e.name,onChange:function(t){e.setName(t.target.value)}})},w=function(e){return a.a.createElement("button",{onClick:function(){e.setPlaying(!0),e.setBtnText("Play again"),e.setFieldGrid(function(e){for(var t=[],n=0;n<e;n++){for(var r=[],a=0;a<e;a++)r.push("fieldItem");t.push(r)}return t}(e.fieldSize))}},e.btnText)},v=function(e){console.log("propsDIFF",e);return a.a.createElement("select",{value:e.difficulty,onChange:function(t){e.setDifficulty(t.target.value)}},a.a.createElement("option",{value:"easy"},"easy"),a.a.createElement("option",{value:"normal"},"normal"),a.a.createElement("option",{value:"hard"},"hard"),a.a.createElement("option",{value:"nightmare"},"nightmare"))},E=n(12),x=n(27),O=n(5),j=n.n(O),T=n(8);function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var P=j.a.mark(X),k=j.a.mark($),D=j.a.mark(q),G=j.a.mark(Q),I="GET_WINNERS",M="GET_SETTINGS",F="SET_WINNERS",_="SET_SETTINGS",B="ADD_WINNER",W="SET_NAME",A="SET_MESSAGE",C="SET_BTN_TEXT",z="SET_DIFFICULTY",L="SET_PLAYING",R="SET_FIELD_GRID",U=function(e){return{type:C,payload:e}},Y=function(e){return{type:z,payload:e}},J=function(e){return{type:L,payload:e}},H=function(e){return{type:R,payload:e}};function X(){var e,t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(T.c)(I);case 3:return n.next=5,fetch("/winners");case 5:return e=n.sent,n.next=8,e.json();case 8:return t=n.sent,n.next=11,Object(T.b)({type:F,payload:t.sort((function(e,t){return t-e}))});case 11:n.next=0;break;case 13:case"end":return n.stop()}}),P)}function $(){var e,t;return j.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=3,Object(T.c)(B);case 3:return e=n.sent,t=e.payload,n.next=7,fetch("/add_winner",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});case 7:n.next=0;break;case 9:case"end":return n.stop()}}),k)}function q(){var e,t,n,r;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=3,Object(T.c)(M);case 3:return e=a.sent,t=e.payload,a.next=7,fetch("/settings");case 7:return n=a.sent,a.next=10,n.json();case 10:return r=a.sent,a.next=13,Object(T.b)({type:_,payload:r[t]});case 13:a.next=0;break;case 15:case"end":return a.stop()}}),D)}var K={winners:[],settings:{field:5,delay:700},userName:"",message:{color:"black",text:"try to win"},btnText:"Play",difficulty:"easy",isPlaying:!1,fieldGrid:[]};function Q(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([X(),q(),$()]);case 2:case"end":return e.stop()}}),G)}var V=Object(E.b)((function(e){return console.log("state",e),{name:e.settings.userName,btnText:e.settings.btnText,difficulty:e.settings.difficulty,fieldSize:e.settings.settings.field}}),{setName:function(e){return{type:W,payload:e}},setDifficulty:Y,setPlaying:J,setBtnText:U,setFieldGrid:H})((function(e){return a.a.createElement("div",null,a.a.createElement(v,{setDifficulty:e.setDifficulty,difficulty:e.difficulty}),a.a.createElement(h,{setName:e.setName}),a.a.createElement(w,{btnText:e.btnText,setPlaying:e.setPlaying,setBtnText:e.setBtnText,setFieldGrid:e.setFieldGrid,fieldSize:e.fieldSize}))}));function Z(){var e=Object(c.a)(["\n  padding-top: 50px;\n  display: flex;\n  justify-content: center;\n\n  .winnerBoard {\n    width: 300px;\n    margin-left: 150px;\n    height: 700px;\n    overflow: auto;\n  }\n  .winner {\n    display: flex;\n    justify-content: space-between;\n    margin: 5px;\n    padding: 10px;\n    background-color: #cfc;\n    font-weight: 700;\n  }\n"]);return Z=function(){return e},e}function ee(){var e=Object(c.a)(["\n  display: flex;\n  margin: 0 auto;\n  flex-wrap: wrap;\n  border: 2px blue solid;\n\n  .fieldItem {\n    background-color: #eee;\n    width: 58px;\n    height: 58px;\n    border: 1px green solid;\n  }\n  .blue {\n    background-color: blue;\n  }\n\n  .pointUp {\n    background-color: green;\n  }\n  .pointDown {\n    background-color: red;\n  }\n"]);return ee=function(){return e},e}var te=0,ne=0,re=!1,ae=Object(E.b)((function(e){return console.log("statdfsde",e),{delay:e.settings.settings.delay,fieldSize:e.settings.settings.field,message:e.settings.message,fieldGrid:e.settings.fieldGrid,isPlaying:e.settings.isPlaying,difficulty:e.settings.difficulty,userName:e.settings.userName,winners:e.settings.winners}}),{getWinners:function(){return{type:I}},getSettings:function(e){return{type:M,payload:e}},addWinner:function(e){return{type:B,payload:e}},setDifficulty:Y,setMessage:function(e){return{type:A,payload:e}},setBtnText:U,setPlaying:J,setFieldGrid:H})((function(e){for(var t=function(){return Math.ceil(Math.random()*Math.pow(s,2))},n=function(){return Math.floor(Math.pow(s,2)/2)+1},i=e.delay,s=e.fieldSize,c=e.message.text,u=Object(r.useState)("#eee"),d=Object(l.a)(u,2),f=d[0],p=d[1],m=Object(r.useState)(0),g=Object(l.a)(m,2),h=g[0],w=g[1],v=Object(r.useState)([]),E=Object(l.a)(v,2),x=E[0],O=E[1],j=Object(r.useState)(t()),T=Object(l.a)(j,2),S=T[0],N=T[1],P=[],k=1;k<=Math.pow(s,2);k++)P.push(a.a.createElement(y,{fieldSize:s,setFieldGrid:e.setFieldGrid,grid:e.fieldGrid,isPlaying:e.isPlaying,color:f,random:S,key:k,name:k}));Object(r.useEffect)((function(){e.getWinners(),e.getSettings(e.difficulty),e.isPlaying&&(p("#eee"),setTimeout((function(){for(var r=t();x.includes(r);)r=t();if(O([].concat(Object(o.a)(x),[r])),N(r),te<n()&&ne<n())p("blue"),setTimeout((function(){re?te+=1:(ne+=1,p("pointDown")),N(null),w((function(e){return e+1})),re=!1}),i);else{var a=new Date,s=a.getHours(),c=a.getMinutes();s<10&&(s="0"+s),c<10&&(c="0"+c);var l,u=a.getFullYear()+"/"+(1+a.getMonth())+"/"+a.getDate()+"/"+s+":"+c;te>=n()?(e.setPlaying(!1),te=0,ne=0,O([]),l={name:e.userName,date:u},e.setMessage({color:"green",text:"YOU WIN"})):ne>=n()?(e.setMessage({color:"red",text:"YOU LOSE"}),l={name:"Computer AI",date:u}):(e.setMessage({color:"brown",text:"DRAW"}),l={name:"DRAW",date:u}),e.addWinner(l),e.setBtnText("Play again")}}),700+15*t()))}),[h,e.isPlaying]);var D=e.winners.map((function(e){return a.a.createElement("div",{key:Math.random()},a.a.createElement(b,{winnerName:""!==e.name?e.name:"noname",winnerDate:e.date}))}));return a.a.createElement(se,null,a.a.createElement("div",{className:"mainField"},a.a.createElement(V,null),a.a.createElement("h1",{style:{color:e.message.color}},c),a.a.createElement(ie,{style:{width:"".concat(60*s,"px"),height:"".concat(60*s,"px")},onClick:function(e){e.target.id&&+e.target.id===S&&(e.target.classList.add("pointUp"),re=!0)}},P),a.a.createElement("h2",null," User score ",te),a.a.createElement("h2",null,"Computer AI score ",ne)),a.a.createElement("div",{className:"winnerBoard"},a.a.createElement("h2",null,"Leader Board"),D))})),ie=u.a.div(ee()),se=u.a.div(Z()),ce=ae,oe=n(9),le=n(31),ue=j.a.mark(fe),de=Object(oe.c)({settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0,n=t.type,r=t.payload;switch(n){case F:return N({},e,{winners:r});case _:return N({},e,{settings:r});case W:return N({},e,{userName:r});case A:return N({},e,{message:r});case C:return N({},e,{btnText:r});case z:return N({},e,{difficulty:r});case L:return N({},e,{isPlaying:r});case R:return N({},e,{fieldGrid:r});default:return e}}});function fe(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(T.a)([Q()]);case 2:case"end":return e.stop()}}),ue)}var pe=Object(le.a)(),me=Object(oe.e)(de,Object(oe.a)(pe));pe.run(fe);var ge=me;var ye=function(){return a.a.createElement(E.a,{store:ge},a.a.createElement("div",{className:"App"},a.a.createElement(ce,null)))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(a.a.createElement(ye,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[36,1,2]]]);
//# sourceMappingURL=main.e96d262e.chunk.js.map